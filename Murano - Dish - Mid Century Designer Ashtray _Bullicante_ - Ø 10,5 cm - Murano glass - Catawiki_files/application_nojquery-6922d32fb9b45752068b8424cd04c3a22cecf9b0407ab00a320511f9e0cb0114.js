function docReady(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)}function passiveEventIfSupported(){var e=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e={passive:!0}}}))}catch(t){}return e}function isCurrentPageSearch(){return/\/(?<language>[a-z]{2}|(?<chinese>zh-Han(s|t)))\/(?<page>se?)$/.test(window.location.pathname)}function getPartOfCategoriesHeader(e){return e.querySelectorAll(".c-header__part-of-categories")}function getInputSearchHeader(e){return e.querySelector(".c-header__with-sticky_search_input")}function isNonEmptyNodeList(e){return e&&e.length}function setVisibleStickyHeader(e,t){var n=getPartOfCategoriesHeader(e),o=getInputSearchHeader(e);isNonEmptyNodeList(n)&&o&&(t===StickyHeaderType.SearchInput?(n.forEach(function(e){e&&e.classList.add("u-hide-s")}),o.classList.remove("u-hide-s")):(n.forEach(function(e){e&&e.classList.remove("u-hide-s")}),o.classList.add("u-hide-s")))}var HeaderState={NotSticky:0,StickyShown:1,StickyNotShown:2},StickyHeaderType={SearchInput:"SearchInput",Categories:"Categories"};!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}(),docReady(function(){function e(r){h(l()?HeaderState.NotSticky:HeaderState.StickyShown);var i,c=window.pageYOffset,a=!1,s=!1,e=function(){if(d&&d===document.activeElement||f()||u&&u.classList.contains("open"))h(HeaderState.StickyShown);else{var e=window.pageYOffset,t=0<=c-e;if(t&&!a&&(s=!l()),e<3?h(HeaderState.NotSticky):!l()||t&&s?h(t?HeaderState.StickyShown:HeaderState.StickyNotShown):h(HeaderState.NotSticky),c=e,a=t,i||(i=document.querySelector("#sticky-filters-component")),i&&r){var n=r.offsetHeight+i.clientHeight,o=r.classList.contains("ab_snd_web_sticky_filters__show-b")&&n<e&&isCurrentPageSearch()?StickyHeaderType.SearchInput:StickyHeaderType.Categories;setVisibleStickyHeader(r,o)}}};window.addEventListener("scroll",e,passiveEventIfSupported())}var t=document.querySelector(".c-header");if(t){var o=t.querySelector(".c-header__main");if(o){var u=t.querySelector(".c-header__search-form"),d=u&&u.querySelector("input"),n=t.querySelector(".c-header__search .c-search-field"),l=function(){return window.pageYOffset<o.clientHeight},f=function(){return n&&n.contains(document.activeElement)},r=null,h=function(e){if(r!==e){var t=e!==HeaderState.NotSticky,n=e===HeaderState.StickyShown;o.classList.toggle("sticky",t),o.classList.toggle("sticky-shown",n),document.body.classList.toggle("header-sticky",t),document.body.classList.toggle("header-sticky-shown",n),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){o.classList.toggle("with-transition",t)})}),r=e}};e(o)}}}),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=n,o}}}(function(){function y(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function e(p){function g(e,t,n){var o;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(n=y({path:"/"},g.defaults,n)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*n.expires),n.expires=r}n.expires=n.expires?n.expires.toUTCString():"";try{o=JSON.stringify(t),/^[\{\[]/.test(o)&&(t=o)}catch(h){}t=p.write?p.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var i="";for(var c in n)n[c]&&(i+="; "+c,!0!==n[c]&&(i+="="+n[c]));return document.cookie=e+"="+t+i}e||(o={});for(var a=document.cookie?document.cookie.split("; "):[],s=/(%[0-9A-Z]{2})+/g,u=0;u<a.length;u++){var d=a[u].split("="),l=d.slice(1).join("=");this.json||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var f=d[0].replace(s,decodeURIComponent);if(l=p.read?p.read(l,f):p(l,f)||l.replace(s,decodeURIComponent),this.json)try{l=JSON.parse(l)}catch(h){}if(e===f){o=l;break}e||(o[f]=l)}catch(h){}}return o}}return(g.set=g).get=function(e){return g.call(g,e)},g.getJSON=function(){return g.apply({json:!0},[].slice.call(arguments))},g.defaults={},g.remove=function(e,t){g(e,"",y(t,{expires:-1}))},g.withConverter=e,g}return e(function(){})}),window.cwLegacyAuthNamespace={},function buildNamespace(e,t){function n(){return null}function o(e){localStorage&&localStorage.setItem("userLoggedIn",e)}function r(e){Cookies.set("x-s-csrf-token",e,{domain:".catawiki.".concat(window.location.hostname.split(".").pop())})}function i(e){if(e.ok)return e.json();throw new Error(e.status)}function c(e){var t=document.querySelector(".js-header-username"),n=document.querySelector(".js-header-settings-username"),o=/^user-/.test(e);if(t){var r=t.dataset["default"];t.textContent=o?r:e}if(!o&&n&&(n.classList.remove("u-hide"),n.textContent=e),996<window.innerWidth&&o){var i=document.querySelector(".js-ab-profile-dropdown");i&&i.classList.toggle("u-hide")}}function a(e){try{r(e.csrf)}catch(t){console.error("_getCsrfSuccess :: data",e)}}function s(e){return undefined===e&&(e=0),fetch("/accounts/api/v1/users/csrf",{method:"get",header:{"Content-Type":"application/json; charset=utf-8"},credentials:"same-origin",cache:"no-cache"}).then(i).then(a)["catch"](d(s,n,e))}function u(){var e=new CustomEvent("userLoggedInEvent"),t=document.body.classList;t.remove("user-logged-out"),t.add("user-logged-in"),o(!0),window.dispatchEvent(e),Array.from(document.querySelectorAll(".u-show-logged-in")).forEach(function(e){e.classList.remove("u-visibility-hidden","u-hide")}),Array.from(document.querySelectorAll(".u-show-logged-out")).forEach(function(e){e.classList.add("u-hide")})}function d(e,t,n){return undefined===n&&(n=0),function(){0<n?e(n-1):t()}}function l(e){return undefined===e&&(e=0),fetch("/buyer/api/v1/users/me",{method:"get",header:{"Content-Type":"application/json; charset=utf-8"},credentials:"same-origin",cache:"no-cache"}).then(i).then(u)["catch"](d(l,f,e))}function f(){var e=document.body.classList,t="EUR";e.add("js-currency-".concat(t.toLowerCase())),e.remove("user-logged-in"),e.add("user-logged-out"),Array.from(document.querySelectorAll(".u-show-logged-out")).forEach(function(e){e.classList.remove("u-visibility-hidden","u-hide")}),Array.from(document.querySelectorAll(".u-show-logged-in")).forEach(function(e){e.classList.add("u-hide")})}function h(e){c(e),s(),l()}function p(){o(!1);var e=Cookies.get("user_name");e?h(e):f()}e.run=p,undefined!==t&&(t._showUserName=c,t._getCsrfSuccess=a,t.retryCall=d,t._getUsersMeSuccess=u,t.updateUnauthHeader=f),p()}(cwLegacyAuthNamespace);